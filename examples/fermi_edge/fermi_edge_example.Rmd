---
jupyter:
  jupytext:
    text_representation:
      extension: .Rmd
      format_name: rmarkdown
      format_version: '1.2'
      jupytext_version: 1.16.1
  kernelspec:
    display_name: Python 3 (ipykernel)
    language: python
    name: python3
---

# Fermi edge fitting example
### In this example, we fit the Fermi edge of the Si-intercalated graphene data set, demonstrating at which kinetic energy to set the chemical potential when it has not been determined from an external reference (such as gold).

```{python}
import numpy as np
import sys

sys.path.append("../../")

from igor2 import binarywave

from exubi import band_map
```

```{python}
dfld = "data_sets"          # Folder containing the data
flnm = "graphene_raw_101"   # Name of the file
extn = ".ibw"               # Extension of the file
tmpr = 80                   # Data temperature [K]


data = binarywave.load(dfld + "/" + flnm + extn)

intn = data["wave"]["wData"]

fnum, anum = data["wave"]["wave_header"]["nDim"][0:2]

fstp, astp = data["wave"]["wave_header"]["sfA"][0:2]
fmin, amin = data["wave"]["wave_header"]["sfB"][0:2]

angl = np.linspace(amin, amin+(anum-1)*astp, anum)
ekin = np.linspace(fmin, fmin+(fnum-1)*fstp, fnum)
```

```{python}
bmap = band_map.band_map(intensities=intn, angles=angl, ekin=ekin)
```
